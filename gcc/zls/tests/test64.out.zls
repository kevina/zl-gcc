# type decls
(talias FILE (struct _IO_FILE))
(talias size_t (unsigned-int))
(talias bool (int))
(talias EnvironSnapshot (struct EnvironSnapshot))
(talias Mark (struct Mark))
(.struct UnmarkedSyntax)
(.struct Syntax)
(.struct SyntaxList)
(.struct SyntaxEnum)
(.struct Match)
(talias Context (struct Context))
(talias Environ (struct Environ))
(.enum _s_0_)
(talias Position (enum _s_0_))
(.struct UserTypeInfo)
(.struct ModuleInfo)
(.struct _Data$$1)
(.struct _Data$$2)
(.struct _Data$$3)
(.struct _Data$$4)
# type definitions
(.enum _s_0_
   (NoPos 0)
   (OtherPos 1)
   (TopLevel 2)
   (FieldPos 4)
   (StmtDeclPos 8)
   (StmtPos 16)
   (ExpPos 32)
)
(.struct _Data$$1
  ((.ptr (struct _Data$$2)) _vptr)
)
(.struct _Data$$2
  ((.ptr (.fun (. ((.ptr (struct _Data$$1)) this)) (void))) foo)
)
(.struct _Data$$3
  ((struct _Data$$1) parent)
)
(.struct _Data$$4
  ((struct _Data$$2) parent)
)
# function decls
(fun printf (. ((.ptr (char :const)) ) ...) (int))
(fun snprintf (. ((.ptr (char :const)) str) ((size_t) size) ((.ptr (char :const)) format) ...) (int))
(fun strcmp (. ((.ptr (char :const)) s1) ((.ptr (char :const)) s2)) (int))
(fun parse_class (. ((.ptr (struct Syntax)) p) ((.ptr (Environ)) env)) (.ptr (struct Syntax)))
(fun _constructor$$1 (. ((.ptr (struct _Data$$1)) this$1)) (void))
(fun foo$$1 (. ((.ptr (struct _Data$$1)) this$1)) (void))
(fun _vtable_init$$1 (. ((.ptr (struct _Data$$2)) _vt$1)) (void))
(fun init$$1 (.) (void) :__constructor__)
(fun _constructor$$2 (. ((.ptr (struct _Data$$3)) this$1)) (void))
(fun foo$$2 (. ((.ptr (struct _Data$$3)) this$1)) (void))
(fun _vtable_init$$2 (. ((.ptr (struct _Data$$4)) _vt$1)) (void))
(fun init$$2 (.) (void) :__constructor__)
(fun main (.) (int))
# definitions
(var _vtable$$1 (struct _Data$$2))
(fun _constructor$$1 (. ((.ptr (struct _Data$$1)) this$1)) (void) (block
  (assign (member (deref this$1) _vptr) (addrof _vtable$$1))
)
)
(fun foo$$1 (. ((.ptr (struct _Data$$1)) this$1)) (void) (block
  (call printf (. (s "X\n")))
)
)
(fun _vtable_init$$1 (. ((.ptr (struct _Data$$2)) _vt$1)) (void) (block
  (assign (member (deref _vt$1) foo) (cast (.ptr (.fun (. ((.ptr (struct _Data$$1)) this)) (void))) (cast (.ptr (.fun (. ((.ptr (struct _Data$$1)) this)) (void))) foo$$1)))
)
)
(fun init$$1 (.) (void) :__constructor__ (block
  (call _vtable_init$$1 (. (addrof _vtable$$1)))
)
)
(var _vtable$$2 (struct _Data$$4))
(fun _constructor$$2 (. ((.ptr (struct _Data$$3)) this$1)) (void) (block
  (assign (deref (cast (.ptr (.ptr (struct _Data$$4))) (addrof (member (deref (cast (.ptr (struct _Data$$1)) this$1)) _vptr)))) (addrof _vtable$$2))
)
)
(fun foo$$2 (. ((.ptr (struct _Data$$3)) this$1)) (void) (block
  (call printf (. (s "Y\n")))
)
)
(fun _vtable_init$$2 (. ((.ptr (struct _Data$$4)) _vt$1)) (void) (block
  (assign (member (deref (cast (.ptr (struct _Data$$2)) _vt$1)) foo) (cast (.ptr (.fun (. ((.ptr (struct _Data$$1)) this)) (void))) (cast (.ptr (.fun (. ((.ptr (struct _Data$$3)) this)) (void))) foo$$2)))
)
)
(fun init$$2 (.) (void) :__constructor__ (block
  (call _vtable_init$$1 (. (addrof (member _vtable$$2 parent))))
  (call _vtable_init$$2 (. (addrof _vtable$$2)))
)
)
(fun main (.) (int) (block
  (var xo$1 (struct _Data$$1))
  (call _constructor$$1 (. (addrof xo$1)))
  (var x$1 (.ptr (struct _Data$$1)) (addrof xo$1))
  (var yo$1 (struct _Data$$3))
  (call _constructor$$2 (. (addrof yo$1)))
  (var y$1 (.ptr (struct _Data$$3)) (addrof yo$1))
  (call (member (deref (member (deref x$1) _vptr)) foo) (. (cast (.ptr (struct _Data$$1)) (addrof (deref x$1)))))
  (call (member (deref (cast (.ptr (struct _Data$$2)) (deref (cast (.ptr (.ptr (struct _Data$$4))) (addrof (member (deref (cast (.ptr (struct _Data$$1)) (addrof (deref y$1)))) _vptr)))))) foo) (. (addrof (member (deref y$1) parent))))
  (var xp$1 (.ptr (struct _Data$$1)) (addrof (member (deref y$1) parent)))
  (call (member (deref (member (deref xp$1) _vptr)) foo) (. xp$1))
)
)
# special
# done
